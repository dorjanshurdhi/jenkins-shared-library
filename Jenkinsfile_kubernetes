@Library('jenkins-shared-library') _

pipeline{
    agent {
        node {
            label 'master'
        }
    }
    stages{
        stage('Test Shared Libs'){
            steps{
                script {
                    def configMap = [
                       'kubernetes-partner-name':'partner-1',
                       'serverUrl': 'https://kubernetes.example.com',
                       'namespace': 'my-namespace',
                       'credentialsId': 'my-credentials-id',
                       'podTemplate': [
                           'label': 'my-pod-label',
                           'name': 'my-pod-name',
                           'namespace': 'my-pod-namespace'
                        ]
                    ]
                    kubernetes(configMap)                
                }
            }
        }
    }
}